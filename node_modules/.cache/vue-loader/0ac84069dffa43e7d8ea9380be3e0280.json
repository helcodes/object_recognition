{"remainingRequest":"C:\\develop\\object_recognition\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\develop\\object_recognition\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\develop\\object_recognition\\src\\App.vue","mtime":1616696099653},{"path":"C:\\develop\\object_recognition\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\object_recognition\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\develop\\object_recognition\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\develop\\object_recognition\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IEhlbGxvV29ybGQgZnJvbSAnLi9jb21wb25lbnRzL0hlbGxvV29ybGQudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIAogIH0sCgoKICBkYXRhICgpIHsKICByZXR1cm4gewogICAgdmlkZW9EZXZpY2U6ICcnLAogICAgcmVzdWx0V2lkdGg6IDAsCiAgICByZXN1bHRIZWlnaHQ6IDAsCiAgICBkZXZpY2VzOiBbXQogIH0KfSwKbW91bnRlZCAoKSB7CiAgICB0aGlzLmxpc3RWaWRlb0RldmljZXMoKQogICAgLnRoZW4odmlkZW9EZXZpY2VzID0+IHsKICAgICAgICBmb3IgKGxldCBkZXZpY2Ugb2YgdmlkZW9EZXZpY2VzKSB7CiAgICAgICAgICAgIHRoaXMuZGV2aWNlcy5wdXNoKGRldmljZSkKICAgICAgICB9CiAgICAgICAgdGhpcy52aWRlb0RldmljZSA9IHZpZGVvRGV2aWNlc1swXS5kZXZpY2VJZAogICAgfSkKICAgIC50aGVuKCgpID0+IHsKICAgICAgICByZXR1cm4gdGhpcy5pbml0V2ViY2FtU3RyZWFtKCkKICAgIH0pCn0sCm1ldGhvZHM6IHsKICBsaXN0VmlkZW9EZXZpY2VzICgpIHsKICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpCiAgICAgIC50aGVuKGRldmljZXMgPT4gewogICAgICAgICAgcmV0dXJuIGRldmljZXMuZmlsdGVyKGRldmljZSA9PiBkZXZpY2Uua2luZCA9PT0gJ3ZpZGVvaW5wdXQnKQogICAgICB9KQogIH0sCgogIGluaXRXZWJjYW1TdHJlYW0gKCkgewogICAgICB0aGlzLmlzVmlkZW9TdHJlYW1SZWFkeSA9IGZhbHNlCiAgICAgIC8vIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIG1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgQVBJCiAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7CiAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgICAgICB2aWRlbzogeyBkZXZpY2VJZDogdGhpcy52aWRlb0RldmljZSB9CiAgICAgIH0pCiAgICAgIC50aGVuKHN0cmVhbSA9PiB7CiAgICAgICAgICAvLyBzZXQgPHZpZGVvPiBzb3VyY2UgYXMgdGhlIHdlYmNhbSBpbnB1dAogICAgICAgICAgbGV0IHZpZGVvID0gdGhpcy4kcmVmcy52aWRlbwogICAgICAgICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtCgogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAvLyB3aGVuIHZpZGVvIGlzIGxvYWRlZAogICAgICAgICAgdmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9ICgpID0+IHsKICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHZpZGVvIHJhdGlvCiAgICAgICAgICAgICAgdGhpcy52aWRlb1JhdGlvID0gdmlkZW8udmlkZW9IZWlnaHQgLyB2aWRlby52aWRlb1dpZHRoCiAgICAgICAgICAgICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyIG9uIHJlc2l6ZSB0byByZXNldCB0aGUgPHZpZGVvPiBhbmQgPGNhbnZhcz4gc2l6ZXMKICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5zZXRSZXN1bHRTaXplKQogICAgICAgICAgICAgIC8vIHNldCB0aGUgaW5pdGlhbCBzaXplCiAgICAgICAgICAgICAgdGhpcy5zZXRSZXN1bHRTaXplKCkKICAgICAgICAgICAgICB0aGlzLmlzVmlkZW9TdHJlYW1SZWFkeSA9IHRydWUKICAgICAgICAgICAgICByZXNvbHZlKCkKICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgIH0pCiAgICAgIC8vIGVycm9yIGhhbmRsaW5nCiAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIGluaXRpYWxpemUgd2ViY2FtIHN0cmVhbScsIGVycm9yKQogICAgICB9KQogICAgICB9CiAgfSwKCiAgc2V0UmVzdWx0U2l6ZSAoKSB7CiAgICAgIGxldCBjbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aAogICAgICB0aGlzLnJlc3VsdFdpZHRoID0gTWF0aC5taW4oNjAwLCBjbGllbnRXaWR0aCkKICAgICAgdGhpcy5yZXN1bHRIZWlnaHQgPSB0aGlzLnJlc3VsdFdpZHRoICogdGhpcy52aWRlb1JhdGlvCiAgICAgIGxldCB2aWRlbyA9IHRoaXMuJHJlZnMudmlkZW8KICAgICAgdmlkZW8ud2lkdGggPSB0aGlzLnJlc3VsdFdpZHRoCiAgICAgIHZpZGVvLmhlaWdodCA9IHRoaXMucmVzdWx0SGVpZ2h0CiAgfSAKfQoKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n  <div id=\"center-container\">\n    <select id=\"camera-select\" v-model=\"videoDevice\" @change=\"initWebcamStream()\">\n        <option v-for=\"device in devices\" v-bind:key=\"device.deviceId\" v-bind:value=\"device.deviceId\">\n            {{ device.label }}\n        </option>\n    </select>\n    <div id=\"result-frame\">\n      <video ref=\"video\" autoplay></video>\n      <canvas ref=\"canvas\" :width=\"resultWidth\" :height=\"resultHeight\"></canvas>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n//import HelloWorld from './components/HelloWorld.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    \n  },\n\n\n  data () {\n  return {\n    videoDevice: '',\n    resultWidth: 0,\n    resultHeight: 0,\n    devices: []\n  }\n},\nmounted () {\n    this.listVideoDevices()\n    .then(videoDevices => {\n        for (let device of videoDevices) {\n            this.devices.push(device)\n        }\n        this.videoDevice = videoDevices[0].deviceId\n    })\n    .then(() => {\n        return this.initWebcamStream()\n    })\n},\nmethods: {\n  listVideoDevices () {\n      return navigator.mediaDevices.enumerateDevices()\n      .then(devices => {\n          return devices.filter(device => device.kind === 'videoinput')\n      })\n  },\n\n  initWebcamStream () {\n      this.isVideoStreamReady = false\n      // if the browser supports mediaDevices.getUserMedia API\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      return navigator.mediaDevices.getUserMedia({\n          video: { deviceId: this.videoDevice }\n      })\n      .then(stream => {\n          // set <video> source as the webcam input\n          let video = this.$refs.video\n          video.srcObject = stream\n\n          return new Promise((resolve) => {\n          // when video is loaded\n          video.onloadedmetadata = () => {\n              // calculate the video ratio\n              this.videoRatio = video.videoHeight / video.videoWidth\n              // add event listener on resize to reset the <video> and <canvas> sizes\n              window.addEventListener('resize', this.setResultSize)\n              // set the initial size\n              this.setResultSize()\n              this.isVideoStreamReady = true\n              resolve()\n          }\n          })\n      })\n      // error handling\n      .catch(error => {\n          console.log('failed to initialize webcam stream', error)\n      })\n      }\n  },\n\n  setResultSize () {\n      let clientWidth = document.documentElement.clientWidth\n      this.resultWidth = Math.min(600, clientWidth)\n      this.resultHeight = this.resultWidth * this.videoRatio\n      let video = this.$refs.video\n      video.width = this.resultWidth\n      video.height = this.resultHeight\n  } \n}\n\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\nvideo {\n  position: absolute;\n}\n\ncanvas {\n  position: absolute;\n}\n\n#center-container {\n  width: 600px;\n  margin: 0 auto;\n}\n\n#camera-select {\n  width: 300px;\n  margin-bottom: 50px;\n}\n</style>\n"]}]}